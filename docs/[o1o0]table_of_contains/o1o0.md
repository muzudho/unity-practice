Unity練習[O1o0]

| What is | This is                                |
| ------- | -------------------------------------- |
| OS      | Windows                                |
| Tool    | Unity Hub 3.3.0 （あとでインストール） |

# 手順

## Step [O1o0] インストールから

## Step [O1o1o0] インストール

👇 以下のホームページから、Unity をダウンロードしてほしい  

📖 [Unity](https://unity.com/ja)  

細かく言うと Unity Hub という名前の .exe ファイルかもしれない  

👇 インストール先の例  

`C:\Program Files\Unity Hub`  

Unity Hub というアプリケーションが Windows にインストールされたと思う  

英語版かと思うが、日本語化パッチのようなものは（あるのか知らないが）わたしは **当てない** 。  
英語の人口が 日本語の人口より多いのだから  
エラーメッセージが出たとき検索して情報が多いのは 英語版 であることが多い経験則から そうする  

## Step [O1o2o0] 実行

Unity Hub アプリケーションを実行してほしい  

プロジェクト一覧画面が出ているだろうか  
これで Unity は使える状態になった  

## Step [O1o3o0] 学習（しない）

Unity Hub のメニューから Learn を探してクリックしてほしい  
`Learn - Featured` が開いているだろう  

科目のようなものが並んでいて、どれを選べばいいか分からないかもしれない  

分からないときの最善の方法は　すべてのメニューをクリックして　開けてみればよい  

```plaintext
TIME TO COMPLETE:
XXX minutes
```

といった　完了するまでにかかる時間（分）が書いてあるだろう  

１時間は 60 minutes（分）だということを思い出してほしい  
たとえば `Beginner Course` は `2430 minutes` だから 40日と30分かかる  
これは大変だ、ということが分かったところで、いったん　着手せず、別の方法を探る  

## Step [O1o3o0] 学習 - 推奨（使わない）

`Unity Hub` の `Learn - Recommended` もクリックしてみよう  

`Sign in` というリンクをクリックしてほしい    

`Unity ID` というWebサイトに飛ばされる  
アカウントを作り、ここに Email と Password を入れる  

するとまた `Unity Hub` の `Learn - Recommended` に帰ってくる  

`Nothing here,yet` （まだ、ここには何もない）と書いてある  

## Step [O1o4o0] 学習（しない）

`Learn - Featured` に戻ってくる  

`TYPE` というものが薄い字で書かれてあり、その要素は以下のものがあるようだ  

* FOUNDATIONAL TUTORIAL （基礎チュートリアル）
* BEGINNER COURSE （初級コース）
* BEGINNER PROJECT （初級プロジェクト）
* INTERMEDIATE COURSE （中級コース）
* ADVANCED COURSE （上級コース）

基礎と初級はどっちを先にやればいいのか　なんの説明もないが、  

* `チュートリアル` というものは ちょっとした操作説明ぐらいで大したことはやらない雰囲気がある
* `コース` というものは そこに入ってしまうと長い雰囲気がある

とりあえず　手あたり次第　チュートリアルをクリックして開けて　説明だけ見ていってみる  

## Step [O2o0] Get started with the Unity Hub

`Get started with the Unity Hub` というフィーチャーが Foundational Tutorial で、 20 minutes のようだ  

とりあえず　これを実践してみよう  

`View on Unity Learn` をクリックする  

📖 [https://learn.unity.com/tutorial/get-started-with-the-unity-hub#](https://learn.unity.com/tutorial/get-started-with-the-unity-hub#)  

👆 Web サイトへ飛ばされる。 Web サイトを読みながらやれ、ということらしい  

じゃあ、やってみる  

英語だが、ブラウザの機能で日本語訳すれば問題ない  

どうも この `Get started with the Unity Hub` を読めるスキルレベルを習得すれば  
わたしが Qiita で記事を書かなくても良さそうな感じだ  

## Step [O3o0] Unity projects

Unity のプロジェクトを どのフォルダーの下に作るかだが、デフォルトだと  

`C:\Users\{ユーザー名}`  

の直下に作ってしまった。  
好きにすればいいが、わたしは次は  

`C:\Users\{ユーザー名}\Documents\UnityProjects`  

とでもフォルダーを切ってその下に置きなおした。やり方は以下の通り  

* Windows Explorer で 📂 `UnityProjects` を作成し、その下へ `Essentials 3D project` を移動
* Unity Hub のプロジェクト一覧から、 `Essentials 3D project` の行の […] ボタンをクリック、 `Remove project from list` をクリックして一覧から消す
* Unity Hub の `Open` ボタンで `Essentials 3D project` を選び直す


## Step [O4o0] Explore the Unity Editor

👇 次は `Explore the Unity Editor` というフィーチャーを開けてみる。 Foundational Tutorial で、 10 minutes のようだ  

📖 [https://learn.unity.com/tutorial/explore-the-unity-editor-1](https://learn.unity.com/tutorial/explore-the-unity-editor-1)  

画面の見方、カメラの操作の仕方などが学べた  

## Step [O5o0] Create with Code

`Learn - Featured` に戻ってくる  

`Create with Code` を開く。 Beginner Course で 2430 minutes だ。  
期間が長いが、ちょっと　かじってみて　嫌なら止めればいい。開けてみる  

📖 [https://learn.unity.com/course/create-with-code](https://learn.unity.com/course/create-with-code)  

いくつものパートに分かれているようだ  

チュートリアルのWebサイトを見渡すと、  
`Select your Unity version` というドロップダウンリストがある。  
インストールしている Unity のバージョンに合わせる。  
わたしは 2022年11月現在、 先行版の 2022.1 ではなく、 LTS の 2021.3 をインストールしているから、 2021.3 にする  

2021.3 は 2021年3月 に見えるから 2021c にでもすればいいのに、LTS は 3 だから 2021.3 だ、という表記は Unityの作法として決まっている。  

参考： 📖 [3.Identify Unity versions](https://learn.unity.com/tutorial/get-started-with-the-unity-hub#6126686cedbc2a6a469b37f8)  

私は神ではないので仕方ない。人のやることを受け入れることにする。諦め、妥協し、不本意なことに従う  

あとで分かったのだが この `Select your Unity version`、 記事毎に設定するもので、記事が存在しないバージョン番号もあるようだ。  
多分、古い記事の内容と同じで、変更がなかったのだと思うことにしよう。 ユーザーからすれば「記事が無い！」という気持ちだが、まあ、いいだろう  

## Step [O5o1o0] Getting Started

* `Getting Started` - Tutorial, Begginer, 35 Mins

さらにパートに分かれている  

### Step [O5o1o1o0] Course Introduction

* `Course Introduction` - Tutorial, Begginer, 10 Mins

動画が２本あり、やる気を高める動画と、このコースの動画を上手く使える人がしている勉強方法について　の２本のようだ  

Tips:  

動画は英語だし、字幕も　英語かスペイン語で 日本語はないかもしれない。  
じゃあ　日本語話者は　どうすればいいかというと、  
動画の外の下側に `Show transcript` リンクがあり　クリックすると 全文書き起こし のようなものが出てくるので  
Web ブラウザーの機能で Web サイト全体に Google翻訳 をかけるといいだろう  

例えば以下のように出る  

```quote
00:00:12  たった一つなのに
          ちょっとしたアドバイス

00:00:14  大事なことなのでここでシェアします

00:00:17  私たちがこのビデオ全体を作ったこと
          それについてあなたに話すために。

00:00:20  ですから、これ以上苦労することなく、

00:00:22  ここに最も重要な3つがあります
          あなたが知っておくべき言葉
```

あとで分かったことだが、日本語が選べる動画もあるし、選べない動画もあるようだ。まあ、いいだろう。  
また、ブラウザ翻訳すると、動画の上の字幕が日本語になるケースもあるし、ならないケースもある  

Tips:  

そんなことできないかも知れないが、教えておく  

もし 英語のリスニング（聞き取り）をしながら、動画と、日本語訳の間を目で往復するのが　間に合わないときは、  
動画を再生した直後に 一時停止し、  
日本語訳を先に全部読んでしまってから（変な直訳で意味分からないが）　落ち着いて 動画を見るとよい  

### Step [O5o1o2o0] Install Unity Software

* `Install Unity Software` - Tutorial, Begginer, 25 Mins

インストールしておけ、というものが説明されている  

VS 2022 を使っているのに `Microsoft Visual Studio Community 2019` なんか入れたくないが、  
私は神ではないので仕方ない。人のやることを受け入れることにする。諦め、妥協し、不本意なことに従う  

ほとんど　先にやってしまっていたことが書いてある。先に進む  

Tips:  

あとで分かったことだが、外部スクリプトを開くエディターは選ぶことができる  

## Step [O5o2o_1o0] Unit 1 - Player Control

あとで分かったことだが、 Unit 1 の目次を見て　少なそうだな、と思ったら　目次を開けると中に　パートが沢山ある  

`Player Control` は、すぐにゲーム開発に取り掛かるのではなく、 Unity Editor の基本操作を覚えていく感じ  

## Step [O5o2o0] Unit 1 - Introduction

* `Unit 1 - Introduction` - Tutorial, Begginer, 5 Mins

確かに動画を１本見るだけで　５分もあれば終わる  

### Step [O5o2o1o0] Lesson 1.1 - Start your 3D Engines

* `Lesson 1.1 - Start your 3D Engines` - Tutorial, Begginer, 1 Hour 20 Mins

ここから実技に入るのだろう  

著作権で縛られていて商用不可の材料が .zip ファイルで置いてあるのでダウンロードする  
`Prototype 1 - Starter Files.zip` ファイルがダウンロードされた  

Tips:  

Unity Project の名前が `Prototype 1` なのだが、イケてないと思う。  
`Driving Car` みたいな名前なら　あとで思い出せると思うのだが、  
レッスンをしばらくサボって 続きをやるかな、と思ってプロジェクト・リストに `Prototype 1` という Unity Project が並んでいても  
「なんだったかな、これ……？」と思う  

じゃあ名前を変えればいいのかもしれないが、変えたら変えたで 後で分からなくなるのも嫌だ。  
私は神ではないので仕方ない。人のやることを受け入れることにする。諦め、妥協し、不本意なことに従う  

#### Step [O5o2o1o1o0] 1.Make a course folder and new project

動画ではデスクトップにフォルダーを置いていたが、  
わたしは フォルダーの場所を 📂 `"C:\Users\{ユーザー名}\UnityProjects\Create with Code"` とした。  

#### Step [O5o2o1o2o0] 2.Import assets and open Prototype 1

さっきダウンロードした `Prototype 1 - Starter Files.zip` ファイルをどこへでもいいので解凍する。  
`Prototype-1_Starter-Files.unitypackage` というファイルが出てくる。  
これは ユニティーパッケージ と呼ぶ  

ユニティーパッケージを Unity Editor へインポートする方法は　動画で説明があるので、そうする  

動画の中で同じことを２回やっているが、  
同じことは２回できないという説明なのに　２回できてしまい、よく分からないので無視した  

#### Step [O5o2o1o3o0] 3.Add your vehicle to the scene

とにかく　赤い車を置いた  

#### Step [O5o2o1o4o0] 4.Add an obstacle and reposition it

箱を置いたり、X,Y,Z 座標をリセットしたり、ゲームオブジェクトの名前を変えたりした  

#### Step [O5o2o1o5o0] 5.Locate your camera and run the game

カメラを選択する。プレイする  

#### Step [O5o2o1o6o0] 6.Move the camera behind the vehicle

* ギズモを使ってみる
* 車の後ろにカメラを持っていく
* マウスの左ボタンを押下しながら [Ctrl] キーをクリックすると何かできるそうだが、なんのことだか分からなかった

#### Step [O5o2o1o7o0] 7.Customize the interface layout

* Unity Editor の、いろんなレイアウトを試す
* `My Layout` を作ってほしい

### Step [O5o3o0] Lesson 1.2 - Pedal to the Metal

* `Lesson 1.2 - Pedal to the Metal` - Tutorial, Begginer, 1 Hour 10 Mins

* まず１本の動画を見る。スクリプトの話しをする、という前振りだ
    * これから PlayerControl というものを C#言語で作りますよ、という前振り

### Step [O5o3o1o0] 1.Create and apply your first script

* C#スクリプト・ファイルを新規作成して、 それを Vehicle（赤い車）にアタッチするところまで

### Step [O5o3o2o0] 2.Add a comment in the Update() method

* Unity の補助画面として Visual Studio を開いて C# スクリプトをここに書く……、というところまで
    * Tips として、 ソリューション・エクスプローラーといったサイドビューを全て閉じ、画面全体をテキストエディターだけにするのが見やすいというテクニックを教えてくれる

Tips  

📖 [Openin unity script in visual studio does not work](https://stackoverflow.com/questions/71812211/openin-unity-script-in-visual-studio-does-not-work#:~:text=Unity%20and%20VS%20versions%20do%20not%20match%2C%20try,and%20VS%20will%20automatically%20create%20it%20after%20deletion%29.)  

`[Edit] - [Preferences] - [External tools] - [External Script Editor]`

👆 エディターを選べるらしい  

`Visual Studio Community 2022` を選んだ  

Unity Editor で C# スクリプトファイルをダブルクリックすると、Visual Studio Community 2022 が出てきた  

VSCode も選べるが、 Visual Studio の方が インテリジェンス機能が利くので良かった  

### Step [O5o3o3o0] 3.Give the vehicle a forward motion

* トラックがすごいスピードで地平線まで走っていく

### Step [O5o3o4o0] 4.Use a Vector3 to move forward

* プログラムが数字で書かれているより、単語で書かれている方が見やすいよな、という話し
* z の正の数は　必ず前方なのだろうか。自分から見た座標か？
* z の単位は meter

### Step [O5o3o5o0] 5.Customize the vehicle’s speed

* トラックのスピードをゆっくりにする
* Frame （いわゆる FPS）を知る

### Step [O5o3o6o0] 6.Add RigidBody components to objects

* トラックと障害物が突き抜けないように、物理的な設定をする
* Mass の単位は killo-gram

### Step [O5o3o7o0] 7.Duplicate and position the obstacles

* 箱を増やす

### Step [O5o3o8o0] 8.Lesson Recap

* レッスン1.2のまとめ

### Step [O5o4o0] Lesson 1.3 - High Speed Chase

* `Lesson 1.3 - High Speed Chase` - Tutorial, Begginer, 50 Mins

* これからすることの説明動画を観る

### Step [O5o4o1o0] 1.Add a speed variable for your vehicle

* Unity Editor のインスペクターを使って、ゲーム画面を見ながら変数の値を変更する方法を知る

### Step [O5o4o2o0] 2.Create a new script for the camera

* トラックとカメラのポジションを紐づける方法を知る

### Step [O5o4o3o0] 3.Add an offset to the camera position

* 近すぎるトラックとカメラのポジションを少し離す方法を知る

### Step [O5o4o4o0] 4.Make the offset into a Vector3 variable

* コードの書き方を少し綺麗にする

### Step [O5o4o5o0] 5.Smooth the Camera with LateUpdate

* 画面のカクツキの解消

### Step [O5o4o6o0] 6.Edit the playmode tint color

* 再生中に、編集中と思って間違って編集するのを防ぐ方法

### Step [O5o4o7o0] 7.Lesson Recap

* まとめ動画を見る

### Step [O5o5o0] Lesson 1.4 - Step into the Driver's Seat

* `Lesson 1.4 - Step into the Driver's Seat` - Tutorial, Begginer, 50 Mins

* これからやることの動画を見る

### Step [O5o5o1o0] 1.Allow the vehicle to move left/right

* 左右への移動

### Step [O5o5o2o0] 2.Base left/right movement on input

* `Turn Speed` を 1 にするのを聞き逃さないでほしい
* `a`, `d` キーや、 左、右キーを使って　トラックを左右に移動できるようになる

### Step [O5o5o3o0] 3.Take control of the vehicle speed

* `w`, `s` キーや、上、下キーを使って　トラックを前後に移動できるようにする

### Step [O5o5o4o0] 4.Make vehicle rotate instead of slide

* `Global`、 `Local` ボタンの説明を聞いてやってみたが、 `Local` にしても `Global` と同じ動きだった。よく分からない
* トラックの首振り（Rotate）メソッドの説明
* `Speed` を 10、`Turn Speed` を 25 に変更

### Step [O5o5o5o0] 5.Clean your code and hierarchy

* ヒエラルキー・ウィンドウを整理する
* コードを整理する

### Step [O5o5o6o0] 6.Lesson Recap

* 今までの振り返り動画を見る

### Step [O5o6o0] Challenge 1 - Plane Programming

* `Challenge 1 - Plane Programming` - Tutorial, Begginer, 30 Mins

* 諦めるな、という感じの動画を見る

### Step [O5o6o1o0] 1.Challenge 1 Overview

* このチャレンジの全体像の説明動画を見る
    * バグがあるプロジェクトを修正するという内容
    * その答えは、そのチャレンジのページの下の方にあるから、分からなくなったときに見ろということ
    * それでも分からない場合の調べ方の紹介（Stack Overflow を見るとか、実際にプログラマーがやるような内容）
* `Prototype 1` に、 `Challenge 1` カスタムパッケージをインポートしてみたものの、そのあと何をするのか？
    * とりあえず `Instructions` フォルダーに入っている動画を見たところで、このステップを完了にする
    * `Scenes` という名前のフォルダーを作ってくれていないだけで、 `Challenge 1` というシーンが入っていたのでそれを開けてプレイする
        * 確かにバグがありそうだ。これを直すのがチャレンジらしい

### Step [O5o6o2o0] 2.Warning

* 説明が書いてある。バグを直せということと、分からなかったら下を読めということ
* 下にはヒントが書いてあるだけで答えは書いていないので、下を読まなくても、自分のやり方で、先々、勝手に直していいと思う
    * あとでヒントを読むと、自分のやり方が想定されていない方法だと分かったので直した

### Step [O5o6o3o0] 3.The plane is going backward

* 確かに　後ろに進むように書いてあるので、前に進むように書き直した

### Step [O5o6o4o0] 4.The plane is going too fast

* 飛行機が速く飛んでいるので、遅く飛ぶようにスピードを遅めにした（Speedを0.5にした）が、ヒントを見ると、わたしの方法は想定された解答ではないようだ

### Step [O5o6o5o0] 5.The plane is tilting automatically

* 飛行機が機首を上げたり、下げたりするのを勝手にやっているから、ユーザーが上、下キーを押したときだけ機首を上げ、下げするように  
  直せという課題だが、なぜ　機首が勝手に上がったり下がったりしてるのか分からない
    * プログラムに、機首を上げたり、下げたりしろと書いてあるのではないようだ
    * 発想の問題かと思う。一番シンプルだと思う方法で直した（飛行機のメッシュのチェックボックスを外した）が、ヒントを見ると、わたしの方法は想定された解答ではないようだ

### Step [O5o6o6o0] 6.The camera is in front of the plane

* カメラが　なんにもない方向を向いているので、飛行機の方を向くといいと思う
* この課題はもっと早いステップでやった方が、バグ探しが楽なんじゃないか？

### Step [O5o6o7o0] 7.The camera is not following the plane

* 飛行機は飛んでいくので、カメラが　飛行機と並走するように置くといいと思う

### Step [O5o6o8o0] 8.Bonus: The plane’s propeller does not spin

* 飛行機のプロペラが回っていないことを確認する
    * プロペラだけ部品が分かれているので、ヒエラルキー・ウィンドウから　プロペラをダブルクリックすると　再生中でもシーン・ビューで一瞬拡大できる
* インスペクターで設定できるのか、スクリプトを書くのか、どちらか分からない
* プロペラを１フレームに１回り　回すには　思ってるより大きな数字になることに気づくと　なんとかできた

### Step [O5o7o0] Lab 1 - Project Design Document

* `Lab 1 - Project Design Document` - Tutorial, Begginer, 1 Hour 30 Mins

