Unity練習[O1o0]

| What is | This is                                |
| ------- | -------------------------------------- |
| OS      | Windows                                |
| Tool    | Unity Hub 3.3.0 （あとでインストール） |

# 手順

## Step [O1o0] インストールから

## Step [O1o1o0] インストール

👇 以下のホームページから、Unity をダウンロードしてほしい  

📖 [Unity](https://unity.com/ja)  

細かく言うと Unity Hub という名前の .exe ファイルかもしれない  

👇 インストール先の例  

`C:\Program Files\Unity Hub`  

Unity Hub というアプリケーションが Windows にインストールされたと思う  

英語版かと思うが、日本語化パッチのようなものは（あるのか知らないが）わたしは **当てない** 。  
英語の人口が 日本語の人口より多いのだから  
エラーメッセージが出たとき検索して情報が多いのは 英語版 であることが多い経験則から そうする  

## Step [O1o2o0] 実行

Unity Hub アプリケーションを実行してほしい  

プロジェクト一覧画面が出ているだろうか  
これで Unity は使える状態になった  

## Step [O1o3o0] 学習（しない）

Unity Hub のメニューから Learn を探してクリックしてほしい  
`Learn - Featured` が開いているだろう  

科目のようなものが並んでいて、どれを選べばいいか分からないかもしれない  

分からないときの最善の方法は　すべてのメニューをクリックして　開けてみればよい  

```plaintext
TIME TO COMPLETE:
XXX minutes
```

といった　完了するまでにかかる時間（分）が書いてあるだろう  

１時間は 60 minutes（分）だということを思い出してほしい  
たとえば `Beginner Course` は `2430 minutes` だから 40日と30分かかる  
これは大変だ、ということが分かったところで、いったん　着手せず、別の方法を探る  

## Step [O1o3o0] 学習 - 推奨（使わない）

`Unity Hub` の `Learn - Recommended` もクリックしてみよう  

`Sign in` というリンクをクリックしてほしい    

`Unity ID` というWebサイトに飛ばされる  
アカウントを作り、ここに Email と Password を入れる  

するとまた `Unity Hub` の `Learn - Recommended` に帰ってくる  

`Nothing here,yet` （まだ、ここには何もない）と書いてある  

## Step [O1o4o0] 学習（しない）

`Learn - Featured` に戻ってくる  

`TYPE` というものが薄い字で書かれてあり、その要素は以下のものがあるようだ  

* FOUNDATIONAL TUTORIAL （基礎チュートリアル）
* BEGINNER COURSE （初級コース）
* BEGINNER PROJECT （初級プロジェクト）
* INTERMEDIATE COURSE （中級コース）
* ADVANCED COURSE （上級コース）

基礎と初級はどっちを先にやればいいのか　なんの説明もないが、  

* `チュートリアル` というものは ちょっとした操作説明ぐらいで大したことはやらない雰囲気がある
* `コース` というものは そこに入ってしまうと長い雰囲気がある

とりあえず　手あたり次第　チュートリアルをクリックして開けて　説明だけ見ていってみる  

## Step [O2o0] Get started with the Unity Hub

`Get started with the Unity Hub` というフィーチャーが Foundational Tutorial で、 20 minutes のようだ  

とりあえず　これを実践してみよう  

`View on Unity Learn` をクリックする  

📖 [https://learn.unity.com/tutorial/get-started-with-the-unity-hub#](https://learn.unity.com/tutorial/get-started-with-the-unity-hub#)  

👆 Web サイトへ飛ばされる。 Web サイトを読みながらやれ、ということらしい  

じゃあ、やってみる  

英語だが、ブラウザの機能で日本語訳すれば問題ない  

どうも この `Get started with the Unity Hub` を読めるスキルレベルを習得すれば  
わたしが Qiita で記事を書かなくても良さそうな感じだ  

## Step [O3o0] Unity projects

Unity のプロジェクトを どのフォルダーの下に作るかだが、デフォルトだと  

`C:\Users\{ユーザー名}`  

の直下に作ってしまった。  
好きにすればいいが、わたしは次は  

`C:\Users\{ユーザー名}\Documents\UnityProjects`  

とでもフォルダーを切ってその下に置きなおした。やり方は以下の通り  

* Windows Explorer で 📂 `UnityProjects` を作成し、その下へ `Essentials 3D project` を移動
* Unity Hub のプロジェクト一覧から、 `Essentials 3D project` の行の […] ボタンをクリック、 `Remove project from list` をクリックして一覧から消す
* Unity Hub の `Open` ボタンで `Essentials 3D project` を選び直す


## Step [O4o0] Explore the Unity Editor

👇 次は `Explore the Unity Editor` というフィーチャーを開けてみる。 Foundational Tutorial で、 10 minutes のようだ  

📖 [https://learn.unity.com/tutorial/explore-the-unity-editor-1](https://learn.unity.com/tutorial/explore-the-unity-editor-1)  

画面の見方、カメラの操作の仕方などが学べた  

## Step [O5o0] Create with Code

`Learn - Featured` に戻ってくる  

`Create with Code` を開く。 Beginner Course で 2430 minutes だ。  
期間が長いが、ちょっと　かじってみて　嫌なら止めればいい。開けてみる  

📖 [https://learn.unity.com/course/create-with-code](https://learn.unity.com/course/create-with-code)  

いくつものパートに分かれているようだ  

チュートリアルのWebサイトを見渡すと、  
`Select your Unity version` というドロップダウンリストがある。  
インストールしている Unity のバージョンに合わせる。  
わたしは 2022年11月現在、 先行版の 2022.1 ではなく、 LTS の 2021.3 をインストールしているから、 2021.3 にする  

2021.3 は 2021年3月 に見えるから 2021c にでもすればいいのに、LTS は 3 だから 2021.3 だ、という表記は Unityの作法として決まっている。  

参考： 📖 [3.Identify Unity versions](https://learn.unity.com/tutorial/get-started-with-the-unity-hub#6126686cedbc2a6a469b37f8)  

私は神ではないので仕方ない。人のやることを受け入れることにする。諦め、妥協し、不本意なことに従う  

あとで分かったのだが この `Select your Unity version`、 記事毎に設定するもので、記事が存在しないバージョン番号もあるようだ。  
多分、古い記事の内容と同じで、変更がなかったのだと思うことにしよう。 ユーザーからすれば「記事が無い！」という気持ちだが、まあ、いいだろう  

## Step [O5o1o0] Getting Started

* `Getting Started` - Tutorial, Begginer, 35 Mins

さらにパートに分かれている  

### Step [O5o1o1o0] Course Introduction

* `Course Introduction` - Tutorial, Begginer, 10 Mins

動画が２本あり、やる気を高める動画と、このコースの動画を上手く使える人がしている勉強方法について　の２本のようだ  

Tips:  

動画は英語だし、字幕も　英語かスペイン語で 日本語はないかもしれない。  
じゃあ　日本語話者は　どうすればいいかというと、  
動画の外の下側に `Show transcript` リンクがあり　クリックすると 全文書き起こし のようなものが出てくるので  
Web ブラウザーの機能で Web サイト全体に Google翻訳 をかけるといいだろう  

例えば以下のように出る  

```quote
00:00:12  たった一つなのに
          ちょっとしたアドバイス

00:00:14  大事なことなのでここでシェアします

00:00:17  私たちがこのビデオ全体を作ったこと
          それについてあなたに話すために。

00:00:20  ですから、これ以上苦労することなく、

00:00:22  ここに最も重要な3つがあります
          あなたが知っておくべき言葉
```

あとで分かったことだが、日本語が選べる動画もあるし、選べない動画もあるようだ。まあ、いいだろう。  
また、ブラウザ翻訳すると、動画の上の字幕が日本語になるケースもあるし、ならないケースもある  

Tips:  

そんなことできないかも知れないが、教えておく  

もし 英語のリスニング（聞き取り）をしながら、動画と、日本語訳の間を目で往復するのが　間に合わないときは、  
動画を再生した直後に 一時停止し、  
日本語訳を先に全部読んでしまってから（変な直訳で意味分からないが）　落ち着いて 動画を見るとよい  

Tips:  

動画は、ページに埋め込まれているとサイズが小さくて　Unity Editor の文字が見えないので、全画面表示にして見るとよい  

### Step [O5o1o2o0] Install Unity Software

* `Install Unity Software` - Tutorial, Begginer, 25 Mins

インストールしておけ、というものが説明されている  

VS 2022 を使っているのに `Microsoft Visual Studio Community 2019` なんか入れたくないが、  
私は神ではないので仕方ない。人のやることを受け入れることにする。諦め、妥協し、不本意なことに従う  

ほとんど　先にやってしまっていたことが書いてある。先に進む  

Tips:  

あとで分かったことだが、外部スクリプトを開くエディターは選ぶことができる  

## Step [O5o2o_1o0] Unit 1 - Player Control

あとで分かったことだが、 Unit 1 の目次を見て　少なそうだな、と思ったら　目次を開けると中に　パートが沢山ある  

`Player Control` は、すぐにゲーム開発に取り掛かるのではなく、 Unity Editor の基本操作を覚えていく感じ  

## Step [O5o2o0] Unit 1 - Introduction

* `Unit 1 - Introduction` - Tutorial, Begginer, 5 Mins

確かに動画を１本見るだけで　５分もあれば終わる  

### Step [O5o2o1o0] Lesson 1.1 - Start your 3D Engines

* `Lesson 1.1 - Start your 3D Engines` - Tutorial, Begginer, 1 Hour 20 Mins

ここから実技に入るのだろう  

著作権で縛られていて商用不可の材料が .zip ファイルで置いてあるのでダウンロードする  
`Prototype 1 - Starter Files.zip` ファイルがダウンロードされた  

Tips:  

Unity Project の名前が `Prototype 1` なのだが、イケてないと思う。  
`Driving Car` みたいな名前なら　あとで思い出せると思うのだが、  
レッスンをしばらくサボって 続きをやるかな、と思ってプロジェクト・リストに `Prototype 1` という Unity Project が並んでいても  
「なんだったかな、これ……？」と思う  

じゃあ名前を変えればいいのかもしれないが、変えたら変えたで 後で分からなくなるのも嫌だ。  
私は神ではないので仕方ない。人のやることを受け入れることにする。諦め、妥協し、不本意なことに従う  

#### Step [O5o2o1o1o0] 1.Make a course folder and new project

動画ではデスクトップにフォルダーを置いていたが、  
わたしは フォルダーの場所を 📂 `"C:\Users\{ユーザー名}\UnityProjects\Create with Code"` とした。  

#### Step [O5o2o1o2o0] 2.Import assets and open Prototype 1

さっきダウンロードした `Prototype 1 - Starter Files.zip` ファイルをどこへでもいいので解凍する。  
`Prototype-1_Starter-Files.unitypackage` というファイルが出てくる。  
これは ユニティーパッケージ と呼ぶ  

ユニティーパッケージを Unity Editor へインポートする方法は　動画で説明があるので、そうする  

動画の中で同じことを２回やっているが、  
同じことは２回できないという説明なのに　２回できてしまい、よく分からないので無視した  

#### Step [O5o2o1o3o0] 3.Add your vehicle to the scene

とにかく　赤い車を置いた  

#### Step [O5o2o1o4o0] 4.Add an obstacle and reposition it

箱を置いたり、X,Y,Z 座標をリセットしたり、ゲームオブジェクトの名前を変えたりした  

#### Step [O5o2o1o5o0] 5.Locate your camera and run the game

カメラを選択する。プレイする  

#### Step [O5o2o1o6o0] 6.Move the camera behind the vehicle

* ギズモを使ってみる
* 車の後ろにカメラを持っていく
* マウスの左ボタンを押下しながら [Ctrl] キーをクリックすると何かできるそうだが、なんのことだか分からなかった

#### Step [O5o2o1o7o0] 7.Customize the interface layout

* Unity Editor の、いろんなレイアウトを試す
* `My Layout` を作ってほしい

### Step [O5o3o0] Lesson 1.2 - Pedal to the Metal

* `Lesson 1.2 - Pedal to the Metal` - Tutorial, Begginer, 1 Hour 10 Mins

* まず１本の動画を見る。スクリプトの話しをする、という前振りだ
    * これから PlayerControl というものを C#言語で作りますよ、という前振り

### Step [O5o3o1o0] 1.Create and apply your first script

* C#スクリプト・ファイルを新規作成して、 それを Vehicle（赤い車）にアタッチするところまで

### Step [O5o3o2o0] 2.Add a comment in the Update() method

* Unity の補助画面として Visual Studio を開いて C# スクリプトをここに書く……、というところまで
    * Tips として、 ソリューション・エクスプローラーといったサイドビューを全て閉じ、画面全体をテキストエディターだけにするのが見やすいというテクニックを教えてくれる

Tips  

📖 [Openin unity script in visual studio does not work](https://stackoverflow.com/questions/71812211/openin-unity-script-in-visual-studio-does-not-work#:~:text=Unity%20and%20VS%20versions%20do%20not%20match%2C%20try,and%20VS%20will%20automatically%20create%20it%20after%20deletion%29.)  

`[Edit] - [Preferences] - [External tools] - [External Script Editor]`

👆 エディターを選べるらしい  

`Visual Studio Community 2022` を選んだ  

Unity Editor で C# スクリプトファイルをダブルクリックすると、Visual Studio Community 2022 が出てきた  

VSCode も選べるが、 Visual Studio の方が インテリジェンス機能が利くので良かった  

### Step [O5o3o3o0] 3.Give the vehicle a forward motion

* トラックがすごいスピードで地平線まで走っていく

### Step [O5o3o4o0] 4.Use a Vector3 to move forward

* プログラムが数字で書かれているより、単語で書かれている方が見やすいよな、という話し
* z の正の数は　必ず前方なのだろうか。自分から見た座標か？
* z の単位は meter

### Step [O5o3o5o0] 5.Customize the vehicle’s speed

* トラックのスピードをゆっくりにする
* Frame （いわゆる FPS）を知る

### Step [O5o3o6o0] 6.Add RigidBody components to objects

* トラックと障害物が突き抜けないように、物理的な設定をする
* Mass の単位は killo-gram

### Step [O5o3o7o0] 7.Duplicate and position the obstacles

* 箱を増やす

### Step [O5o3o8o0] 8.Lesson Recap

* レッスン1.2のまとめ

### Step [O5o4o0] Lesson 1.3 - High Speed Chase

* `Lesson 1.3 - High Speed Chase` - Tutorial, Begginer, 50 Mins

* これからすることの説明動画を観る

### Step [O5o4o1o0] 1.Add a speed variable for your vehicle

* Unity Editor のインスペクターを使って、ゲーム画面を見ながら変数の値を変更する方法を知る

### Step [O5o4o2o0] 2.Create a new script for the camera

* トラックとカメラのポジションを紐づける方法を知る

### Step [O5o4o3o0] 3.Add an offset to the camera position

* 近すぎるトラックとカメラのポジションを少し離す方法を知る

### Step [O5o4o4o0] 4.Make the offset into a Vector3 variable

* コードの書き方を少し綺麗にする

### Step [O5o4o5o0] 5.Smooth the Camera with LateUpdate

* 画面のカクツキの解消

### Step [O5o4o6o0] 6.Edit the playmode tint color

* 再生中に、編集中と思って間違って編集するのを防ぐ方法

### Step [O5o4o7o0] 7.Lesson Recap

* まとめ動画を見る

### Step [O5o5o0] Lesson 1.4 - Step into the Driver's Seat

* `Lesson 1.4 - Step into the Driver's Seat` - Tutorial, Begginer, 50 Mins

* これからやることの動画を見る

### Step [O5o5o1o0] 1.Allow the vehicle to move left/right

* 左右への移動

### Step [O5o5o2o0] 2.Base left/right movement on input

* `Turn Speed` を 1 にするのを聞き逃さないでほしい
* `a`, `d` キーや、 左、右キーを使って　トラックを左右に移動できるようになる

### Step [O5o5o3o0] 3.Take control of the vehicle speed

* `w`, `s` キーや、上、下キーを使って　トラックを前後に移動できるようにする

### Step [O5o5o4o0] 4.Make vehicle rotate instead of slide

* `Global`、 `Local` ボタンの説明を聞いてやってみたが、 `Local` にしても `Global` と同じ動きだった。よく分からない
* トラックの首振り（Rotate）メソッドの説明
* `Speed` を 10、`Turn Speed` を 25 に変更

### Step [O5o5o5o0] 5.Clean your code and hierarchy

* ヒエラルキー・ウィンドウを整理する
* コードを整理する

### Step [O5o5o6o0] 6.Lesson Recap

* 今までの振り返り動画を見る

### Step [O5o6o0] Challenge 1 - Plane Programming

* `Challenge 1 - Plane Programming` - Tutorial, Begginer, 30 Mins

* 諦めるな、という感じの動画を見る

### Step [O5o6o1o0] 1.Challenge 1 Overview

* このチャレンジの全体像の説明動画を見る
    * バグがあるプロジェクトを修正するという内容
    * その答えは、そのチャレンジのページの下の方にあるから、分からなくなったときに見ろということ
    * それでも分からない場合の調べ方の紹介（Stack Overflow を見るとか、実際にプログラマーがやるような内容）
* `Prototype 1` に、 `Challenge 1` カスタムパッケージをインポートしてみたものの、そのあと何をするのか？
    * とりあえず `Instructions` フォルダーに入っている動画を見たところで、このステップを完了にする
    * `Scenes` という名前のフォルダーを作ってくれていないだけで、 `Challenge 1` というシーンが入っていたのでそれを開けてプレイする
        * 確かにバグがありそうだ。これを直すのがチャレンジらしい

### Step [O5o6o2o0] 2.Warning

* 説明が書いてある。バグを直せということと、分からなかったら下を読めということ
* 下にはヒントが書いてあるだけで答えは書いていないので、下を読まなくても、自分のやり方で、先々、勝手に直していいと思う
    * あとでヒントを読むと、自分のやり方が想定されていない方法だと分かったので直した

### Step [O5o6o3o0] 3.The plane is going backward

* 確かに　後ろに進むように書いてあるので、前に進むように書き直した

### Step [O5o6o4o0] 4.The plane is going too fast

* 飛行機が速く飛んでいるので、遅く飛ぶようにスピードを遅めにした（Speedを0.5にした）が、ヒントを見ると、わたしの方法は想定された解答ではないようだ

### Step [O5o6o5o0] 5.The plane is tilting automatically

* 飛行機が機首を上げたり、下げたりするのを勝手にやっているから、ユーザーが上、下キーを押したときだけ機首を上げ、下げするように  
  直せという課題だが、なぜ　機首が勝手に上がったり下がったりしてるのか分からない
    * プログラムに、機首を上げたり、下げたりしろと書いてあるのではないようだ
    * 発想の問題かと思う。一番シンプルだと思う方法で直した（飛行機のメッシュのチェックボックスを外した）が、ヒントを見ると、わたしの方法は想定された解答ではないようだ

### Step [O5o6o6o0] 6.The camera is in front of the plane

* カメラが　なんにもない方向を向いているので、飛行機の方を向くといいと思う
* この課題はもっと早いステップでやった方が、バグ探しが楽なんじゃないか？

### Step [O5o6o7o0] 7.The camera is not following the plane

* 飛行機は飛んでいくので、カメラが　飛行機と並走するように置くといいと思う

### Step [O5o6o8o0] 8.Bonus: The plane’s propeller does not spin

* 飛行機のプロペラが回っていないことを確認する
    * プロペラだけ部品が分かれているので、ヒエラルキー・ウィンドウから　プロペラをダブルクリックすると　再生中でもシーン・ビューで一瞬拡大できる
* インスペクターで設定できるのか、スクリプトを書くのか、どちらか分からない
* プロペラを１フレームに１回り　回すには　思ってるより大きな数字になることに気づくと　なんとかできた

### Step [O5o7o0] Lab 1 - Project Design Document

* `Lab 1 - Project Design Document` - Tutorial, Begginer, 1 Hour 30 Mins

やる気を出す動画を観る  

### Step [O5o7o1o0] 1.Understand what a Personal Project is

将来のレッスンでやることも含んだ、計画書の書き方の動画を観る

### Step [O5o7o2o0] 2.Review Design Doc examples

* 計画書の記入例の動画を観る
* Google Document 形式、Word 形式、 PDF 形式で 同じ計画書の テンプレートをダウンロードできる

### Step [O5o7o3o0] 3.Complete your Project Concept V1

* 計画書を観ながら、新しいプロジェクトを計画する例の動画を観る

### Step [O5o7o4o0] 4.Complete your Project Timeline

* タイムラインを書こう、という話しの動画を観る
* 追加したい機能は `Backlog` に書く

### Step [O5o7o5o0] 5.Complete your MVP sketch

* オフィスソフトを用いたアイデアスケッチの作り方動画を観る

### Step [O5o7o6o0] 6.Recap

* まとめ動画を観る

### Step [O5o8o0] Quiz 1

* `Quiz 1` - Quiz, Begginer, 15 Mins

クイズが１０問ある。ラジオボタンを選択していく  

### Step [O5o9o0] Bonus Features 1 - Share your Work

* `Bonus Features 1 - Share your Work` - Tutorial, Begginer, 1 Hour

### Step [O5o9o1o0] 1.Overview

動画を観る。  
難しいことをやらせるつもりで、このステップはスキップしてよいとの説明がある  

### Step [O5o9o2o0] 2.Easy: Obstacle pyramids

動画を観る。  
障害物を積んでみろ、ということらしい。  
あとで分かったことだが、ヒントは記事のページの下の方にある。とりあえず自分で調べてやる  

確かに、ブロックを積む方法が分からない。宙に浮く  

📖 [オブジェクトをきれいに配置する](https://unitygeek.hatenablog.com/entry/2016/10/28/142042)  

👆 `[Ctrl]` キーを押しながら　箱を動かしたりしてみるが、箱の表面に　スナップするようなことはなく　突き抜けたりする  

📖 [Unityショートカット : エディタ上でオブジェクトを密着させて配置する](https://indie-du.com/entry/2018/05/10/190000)  

👆 `[Shift] + [Ctrl]` キーを押しながら　箱を動かしたりしてみるが、スナップしている感じはしない。食い込む  
ただ、この操作が思っていることに一番近いから使う  

* Create Emptry で `Pile` と名前を付けて 箱を４つ入れ、 Pile を `[Ctrl] + [D]` で複製するなど 効率の良い作業方法を勝手にする

途中で飽きるので　完了　にする  

### Step [O5o9o3o0] 3.Medium: Oncoming vehicles

動画を観る。  
対向車を走らせてみろ、ということらしい。  
あとで分かったことだが、ヒントは記事のページの下の方にある。とりあえず自分で調べてやる  

とりあえず　白いバスを置いてみるが、反対を向かせる方法が分からん。Y軸を固定して、回転すればいいのか。できた  

走らせるには、スクリプトを新規作成して ゲームオブジェクトにアタッチして、  
スクリプトの内容は Z軸の正の方向に進んでもらうようにすればいいと思う  

`BusController.cs` みたいなファイル名でいいか？  

📺 [やってみた](https://twitter.com/muzudho1/status/1593889488903712768?s=20&t=j91bpOFtMBzEgSIPOoUeBA)  

途中で飽きるので　完了　にする  

### Step [O5o9o4o0] 4.Hard: Camera switcher

動画を観る。  
キーボードのキーを押すと 運転席視点と、車の後ろからの視点を　切り替えろ、ということらしい。  
あとで分かったことだが、ヒントは記事のページの下の方にある。とりあえず自分で調べてやる  

とりあえず `[Edit] - [Project Settings...] - [Input Manager]` を見てみる  
`Jump` に `Space` キーが割り当てられているので、とりあえず　これを使ってみる  

`FollowPlayer.cs` というスクリプトは、車の後ろからの始点 を意味するので、  
これとは別に `PerspectiveOfDriversSeat.cs` というスクリプトを作ればいいのか？  
`Jump` キーを受け取るスクリプトは どのゲームオブジェクトだ？  

📖 [Switch between 2 cameras](https://forum.unity.com/threads/switch-between-2-cameras.36209/)  

👆 2008年頃のフォーラムらしく、リンク切れしていて リンク先の URLが業者に乗っ取られている  

Unity Hub から 現在のフォーラムへ移動  

📖 [https://forum.unity.com/](https://forum.unity.com/)  

👆 検索の性能が悪く、欲しい記事が見つからない  

チュートリアルの記事に　コメントがあるので　読んでみるが　ベスト・プラクティス　を感じない  

`Hierarchy` ビューの `Main Camera` に C# スクリプトを２つアタッチすることはできるようだ。  
`FollowPlayer.cs` と `PerspectiveOfDriversSeat.cs` の２つのスクリプトを持たせた。  
このスクリプトの違いは、 offset だけ  

```cs
    private Vector3 offset = new Vector3(0.5f, 2, 1.5f);
```

👆 この x, y, z の数字は シーン画面、ゲーム画面を見ながら手調整していく  

ゲーム中に Space キーを押すと、その２つのスクリプトのうち、片方のスクリプトだけが有効になるように  
交互に切り替わってくれればいいわけだが  

`CameraSwitcher` という C# スクリプト・ファイルを作るか  
そして `Main Camera` ゲームオブジェクトへアタッチする  

スペースキーを押したかどうかを、どうやって取得するか？  

👇 例えば、これでどうか？  

```cs
    // Update is called once per frame
    void Update()
    {
        var isPressSpaceKey = Input.GetKeyDown(KeyCode.Space);
    }
```

`Main Camera` にアタッチされているスクリプトの　活性／不活性　を切り替えたいが、  
`Main Camera` にどうアクセスし、  
`Main Camera` にアタッチされているスクリプトの　活性／不活性　にどうやってアクセスする？  

インターネットで適当にググることにする  

📖 [他のスクリプトの変数を取得する](https://futabazemi.net/unity/script_var)  

👇 こうすると、それっぽくなるが、思ってる感じとは違う。  
思ってるのと違っていれば手調整する、の繰り返し  

```cs
using System;
using UnityEngine;

public class CameraSwitcher : MonoBehaviour
{
    private int cameraView;

    // Start is called before the first frame update
    void Start()
    {
        
    }

    // Update is called once per frame
    void Update()
    {
        var isPressSpaceKey = Input.GetKeyDown(KeyCode.Space);

        if (isPressSpaceKey)
        {
            // 0 と 1 を ひっくり返す
            cameraView = 1 - cameraView;

            var followPlayer = this.GetComponent<FollowPlayer>();
            var perspectiveOfDriverSeat = this.GetComponent<PerspectiveOfDriversSeat>();

            switch (cameraView)
            {
                case 0:
                    followPlayer.enabled = false;
                    perspectiveOfDriverSeat.enabled = true;
                    break;

                case 1:
                    followPlayer.enabled = true;
                    perspectiveOfDriverSeat.enabled = false;
                    break;

                default:
                    throw new Exception($"Unexpected cameraView:{cameraView}");
            }
        }

    }
}
```

📺 [やってみた](https://twitter.com/muzudho1/status/1593907013162979328?s=20&t=abok3EOg_8Y7Gz62HHebcA)  

### Step [O5o9o5o0] 5.Expert: Local multiplayer

動画を観る。  
画面を２分割して、左画面と　右画面で　別のカメラにして、車の操作も 1P と 2P で分けろ、ということらしい。  
あとで分かったことだが、ヒントは記事のページの下の方にある。とりあえず自分で調べてやる  

ヒントによると、カメラには `Viewport Rect` というプロパティがあるそうだ。確かにある  

じゃあ　とりあえず　２台目の　カメラを　置いてみるか  
`Main Camera` を `[Ctrl] + [D]` キーで複製する。 `2P Camera` に名称変更  

`Vehicle` も `[Ctrl] + [D]` キーで複製する。 `2P Vehicle` に名称変更  

`2P Camera` の `FollowPlayer` スクリプトの Player プロパティと、  
`PerspectiveOfDriversSeat` スクリプトの Player プロパティに `Vehicle` が入っているので、  
これを `2P Vehicle` に置き換える  

`Main Camera` の `Viewport Rect` の `X 0 Y 0 W 1 H 1` を、 `X 0 Y 0 W 0.5 H 1` に置き換える  
`2P Camera` の `Viewport Rect` の `X 0 Y 0 W 1 H 1` を、 `X 0.5 Y 0 W 0.5 H 1` に置き換える  

カメラや 車の位置を シーン画面で調整する  

`PlayerController.cs` が 1P のキー設定になっている。  
これを `[Ctrl] + [D]` キーで複製して `Player2Controller.cs` に名称変更する。
ファイルを開くと クラス名が `PlayerController` なので、 `Player2Controller` に変える  
`Player2Controller.cs` を `2P Vehicle` にアタッチする。  
もともと付いていた `PlayerController.cs` はリムーブする  

```cs
        horizontalInput = Input.GetAxis("Horizontal");
        forwardInput = Input.GetAxis("Vertical");
```

👆 この "Horizontal" などの名称を変える必要があると思う。 `Input Manager` を調べてみる  
プレイヤー１と プレイヤー２で 名称が分かれているわけでも無さそうだ  

📖 [Unityでオフラインの対戦プレイや協力プレイを実現する方法](https://gametukurikata.com/program/offlinecompetition)  

👆 自分で `Horizontal2` のように名前を変えなければいけないみたいだ、最初から設定しておいてくれたらいいのに……  
`Joy Num` というのが プレイヤー番号に相当するのだろう  

`Negative Button` などの設定を１つ１つ変えていく  
`Gravity` とか `Dead` とか何だか分からないが　1プレイヤーと 2プレイヤーで 同じになるように設定を変えていく  
最初の設定から　けっこう変えないといけない  

📺 [やってみた](https://twitter.com/muzudho1/status/1593940500779671553?s=20&t=VVtGTtwgf6GfmJ65Gx7RzA)  

### Step [O5o9o6o0] Share your work

画像をアップロードするといいらしいが、よく分からない  
スクリーンショットを撮ってアップロードする  

`Submission Gallery` というところに公開されるようだ  

## Step [O6o0] Unit 2 - Introduction

* `Unit 2 - Introduction` - Tutorial, Begginer, 5 Mins

📖 [Unit 2 - Introduction](https://learn.unity.com/tutorial/unit-2-introduction?uv=2020.3&courseId=5cf96c41edbc2a2ca6e8810f&projectId=5cdcc312edbc2a24a41671e6)  

案内役の人のテンションが上がっている動画を見る。  
英語のちからがないので　直訳を読むが、　その言い回しで　何を伝えようとしているのか　よく分からないが　まあいいだろう  

### Step [O6o1o0] Lesson 2.1 - Player Positioning

* `Lesson 2.1 - Player Positioning` - Tutorial, Begginer, 1 Hour

動画を観る。 if文の話しに触れてくれる  

### Step [O6o1o1o0] 1.Create a new Project for Prototype 2

動画を観る  

Unity Hub を使って `Prototype 2` プロジェクトを新規作成し、  
`.unitypackage` をプロジェクトにインポートする  

`SampleScene` は削除する  
`Prototype 2` シーンを開く  

### Step [O6o1o2o0] 2.Add the Player, Animals, and Food

動画を観る  

* キャラクターを配置する
* 牧場の娘のゲームオブジェクト名を `Player` に名称変更する

### Step [O6o1o3o0] 3.Get the user’s horizontal input

動画を観る  

* `Assets` フォルダーの下に `Scripts` フォルダーを作成する
* `Assets/Scripts` フォルダーの下に `PlayerController.cs` ファイルを作成する
* 水平方向の入力を変数に受け取るだけ

以下略

### Step [O6o1o4o0] 4.Move the player left-to-right

動画を観る。  
内容の趣旨は　プロトタイプ１　と被る  

* キー入力を、プレイヤーの水平位置に連動させる

### Step [O6o1o5o0] 5.Keep the player inbounds

動画を観る。  
C# を初めて書く人に向けての動画なので、コードをコピペするだけでもいいが、一応観ていく  

### Step [O6o1o6o0] 6.Clean up your code and variables

動画を観る。  
C# を初めて書く人に向けての動画なので、コードをコピペするだけでもいいが、一応観ていく  

### Step [O6o1o7o0] 7.Lesson Recap

まとめ動画を観るだけ  

### Step [O6o2o0] Lesson 2.2 - Food Flight

* `Lesson 2.2 - Food Flight` - Tutorial, Begginer, 1 Hour 10 Mins

動画を観るだけ  

* Prefabs の説明

#### Step [O6o2o1o0] 1.Make the projectile fly forwards

動画を観るだけ  

* 既知の技術の反復練習

#### Step [O6o2o2o0] 2.Make the projectile into a prefab

動画を観る  

* Prefabs の使い方の実践
  * プレファブを、C#スクリプトから参照できるようにする

#### Step [O6o2o3o0] 3.Test for spacebar press

動画を観る  

* スペースバーを押下されたことを C#スクリプトで判定する if文コードブロックを書くところまで

#### Step [O6o2o4o0] 4.Launch projectile on spacebar press

動画を観る  

* Instantiate の説明
    * 1行書くだけ

📺 [やってみた](https://twitter.com/muzudho1/status/1597540779119251458?s=20&t=97_u8Si1i6YPVMInTV241w)  

#### Step [O6o2o5o0] 5.Make animals into prefabs

動画を観る  

* 動物もプレファブにする

#### Step [O6o2o6o0] 6.Destroy projectiles offscreen

動画を観る  

* 画面外に飛んでいったピザを削除する方法の説明（画面外に出ていった動物はまだ削除しない）
* Prefabs を Override するのが要点
    * Hierarchy ビューのゲームオブジェクトにスクリプトをアタッチしても、プレファブには反映されない
      * Inspecter ビューの右上の `Overrides` ドロップダウンリストをクリックして、その中の `Apply All` ボタンをクリックすると、プレファブに反映されると説明される

#### Step [O6o2o7o0] 7.Destroy animals offscreen

動画を観る  

* 画面外に出ていった動物を削除する方法の説明
* if ～ else 文の説明

#### Step [O6o2o8o0] 8.Lesson Recap

動画を観る  

### Step [O6o3o0] Lesson 2.3 - Random Animal Stampede

* `Lesson 2.3 - Random Animal Stampede` - Tutorial, Begginer, 1 Hour
